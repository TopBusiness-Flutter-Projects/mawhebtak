import 'package:easy_localization/easy_localization.dart';
import 'package:flutter_svg/flutter_svg.dart';
import 'package:mawhebtak/features/home/cubit/home_cubit.dart';
import 'package:mawhebtak/features/home/cubit/home_state.dart';

import '../../../../core/exports.dart';
import 'follow_button.dart';

class CustomTopTalentsList extends StatelessWidget {
  const CustomTopTalentsList({super.key,required this.isLeftPadding,required this.isRightPadding});
 final bool isLeftPadding;
 final bool isRightPadding;
  @override
  Widget build(BuildContext context) {
    var cubit=context.read<HomeCubit>();
   return BlocBuilder<HomeCubit,HomeState>(builder: (BuildContext context, state) {  return  Padding(
     padding: EdgeInsetsDirectional.only(start:isLeftPadding? 16.w:10.w,end: isRightPadding?16.w:0.0),
     child: Stack(
       clipBehavior: Clip.none,
       children: [
         // Stack for image and icon inside the ClipRRect
         ClipRRect(
           borderRadius: BorderRadius.circular(16.r),
           child: Stack(
             children: [
               SizedBox(
                 height: 160.h,
                 width: 198.w,
                 child: Image.asset(
                   ImageAssets.homeTestImage,
                   fit: BoxFit.cover,
                 ),
               ),
               // Now inside the image container
               Positioned(
                 top: 6.h,
                 right: 8.w, // لو عاوزاها top-left، استخدمي left بدل right
                 child: InkWell(
                     onTap: (){
                       cubit.removeImage();
                     },
                     child: SvgPicture.asset(AppIcons.removeIcon)),
               ),
             ],
           ),
         ),

         // Content overlay
         SizedBox(
           width: 198.w,
           height: 160.h,
           child: Column(
             mainAxisAlignment: MainAxisAlignment.center,
             crossAxisAlignment: CrossAxisAlignment.center,
             children: [
               SizedBox(height: 20.h),
               Text(
                 "Ahmed Mokhtar",
                 style: getSemiBoldStyle(color: AppColors.white, fontSize: 13.sp),
                 textAlign: TextAlign.center,
               ),
               Text(
                 "Talent / Actor Expert",
                 style: getRegularStyle(color: AppColors.grayText, fontSize: 13.sp),
                 textAlign: TextAlign.center,
               ),
               SizedBox(height: 10.h),
               Text(
                 "20 K followers",
                 style: getMediumStyle(color: AppColors.grayText, fontSize: 13.sp),
                 textAlign: TextAlign.center,
               ),
               5.verticalSpace,
               Padding(
                 padding: EdgeInsets.symmetric(horizontal: 8.0.w),
                 child: CustomContainerButton(
                   title: "follow".tr(),
                   color: AppColors.white,
                   textColor: AppColors.primary,
                   width: 129.w,
                 ),
               ),
               SizedBox(height: 5.h),
             ],
           ),
         ),
       ],
     )
     ,
   ); },);
  }
}
